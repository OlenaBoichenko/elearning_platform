{% extends 'courses/layout.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container">
    {% if user.is_authenticated %}
        {% if is_instructor %}
            <!-- Welcome Banner for Teachers -->
            <header class="p-4 bg-primary text-white">
                <h1>Welcome back, {{ user.username }}</h1>
                <p class="lead">Manage your courses and students effectively!</p>
            </header>

            <!-- Section for teachers -->
            <div class="row mt-4">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Create a New Course</h5>
                            <p class="card-text">Start a new journey for your students by creating a new course.</p>
                            <a href="{% url 'create_course' %}" class="btn btn-success">Create Course</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Manage Your Courses</h5>
                            <p class="card-text">View and manage all your existing courses.</p>
                            <a href="{% url 'manage_courses' %}" class="btn btn-primary">Manage Courses</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">View Enrollments</h5>
                            <p class="card-text">Track students who are enrolled in your courses.</p>
                            <a href="#" class="btn btn-primary">View Enrollments</a>
                        </div>
                    </div>
                </div>
            </div>
        {% else %}
            <!-- Welcome banner for students -->
            <header class="p-4 bg-primary text-white">
                <h1>Welcome back, {{ user.username }}</h1>
                <p class="lead">You've learned 70% of your goal this week! Keep it up and improve your progress.</p>
            </header>

            <!-- Section for students -->
            <div class="row mt-4">
                <!-- Attendance card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Attendance</h5>
                            <p class="card-text">19/20</p>
                            <p>Well done! You're attending all lessons. Keep going!</p>
                        </div>
                    </div>
                </div>
                <!-- Homework card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Homework</h5>
                            <p class="card-text">53/56</p>
                            <p>Don't forget about your next homework.</p>
                        </div>
                    </div>
                </div>
                <!-- Rating card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Rating</h5>
                            <p class="card-text">View reports for all your completed courses.</p>
                            <a href="{% url 'course_reports' %}" class="btn btn-primary">Go to report</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Buttons for courses -->
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Available Courses</h5>
                            <p class="card-text">Browse all available courses and enroll in those you are interested in.</p>
                            <a href="{% url 'available_courses' %}" class="btn btn-primary">View Available Courses</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">My Courses</h5>
                            <p class="card-text">View the courses that you have enrolled in.</p>
                            <a href="{% url 'my_courses' %}" class="btn btn-primary">View My Courses</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule for students -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <h4>Timetable</h4>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Mon</th>
                                    <th>Tue</th>
                                    <th>Wed</th>
                                    <th>Thu</th>
                                    <th>Fri</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>08:00 - 09:00 Algorithms</td>
                                    <td>09:00 - 10:00 Mathematics</td>
                                    <td>10:00 - 11:00 Biology</td>
                                    <td>11:00 - 12:00 Chemistry</td>
                                    <td>12:00 - 13:00 Physics</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        {% endif %}
    {% else %}
        <!-- If the user is not authenticated, redirect to the login page -->
        <div class="alert alert-warning" role="alert">
            You need to <a href="{% url 'login' %}">login</a> to view this page.
        </div>
    {% endif %}
</div>
{% endblock %}
